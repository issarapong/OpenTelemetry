receivers:
  otlp:
    protocols:
      http:
        endpoint: "0.0.0.0:4318"
      grpc:
        endpoint: "0.0.0.0:4317"

processors:
  batch:

  # -------------------------------------------------------
  # üéØ ‡πÄ‡∏â‡∏•‡∏¢‡∏Ç‡πâ‡∏≠: Tail Sampling & Memory Pressure
  # 1. ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Tail Sampling ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Å‡πá‡∏ö Error 100%
  # 2. ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà limit_mib ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô RAM ‡πÄ‡∏ï‡πá‡∏° (Memory Pressure)
  # -------------------------------------------------------
  tail_sampling:
    decision_wait: 5s
    num_traces: 100
    expected_new_traces_per_sec: 10
    policies:
      [
        {
          name: error-policy,
          type: status_code,
          status_code: { status_codes: [ERROR] }
        },
        {
          name: random-policy,
          type: probabilistic,
          probabilistic: { sampling_percentage: 50 }
        }
      ]

exporters:
  # üéØ ‡πÄ‡∏â‡∏•‡∏¢‡∏Ç‡πâ‡∏≠: Debug Exporter (Visualize Data)
  debug:
    verbosity: detailed

  # üéØ ‡πÄ‡∏â‡∏•‡∏¢‡∏Ç‡πâ‡∏≠: Change Backend w/o Code
  # ‡∏ñ‡πâ‡∏≤‡∏ß‡∏±‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡πÉ‡∏ä‡πâ Prometheus ‡∏´‡∏£‡∏∑‡∏≠ Zipkin ‡∏Å‡πá‡πÅ‡∏Å‡πâ‡πÅ‡∏Ñ‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ!
  otlp/jaeger:
    endpoint: "jaeger:4317"
    tls:
      insecure: true

service:
  pipelines:
    traces:
      receivers: [otlp]
      processors: [tail_sampling, batch] 
      exporters: [debug, otlp/jaeger] # ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å 2 ‡∏ó‡∏≤‡∏á
    metrics:
      receivers: [otlp]
      processors: [batch]
      exporters: [debug] # Metrics ‡∏Å‡πá‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å Debug ‡πÑ‡∏î‡πâ