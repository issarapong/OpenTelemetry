# OpenTelemetry Auto-Instrumentation Example

à¹à¸¢à¸ config à¹à¸¥à¸° observability stack à¹€à¸‰à¸à¸²à¸°à¸ªà¸³à¸«à¸£à¸±à¸š auto-instrumentation

## ğŸ“‚ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ

```
auto-instrumentation/
â”œâ”€â”€ app.js                       # Express application
â”œâ”€â”€ tracing.js                   # OpenTelemetry SDK setup
â”œâ”€â”€ package.json                 # Dependencies
â”œâ”€â”€ Dockerfile                   # Container image
â”œâ”€â”€ docker-compose.yml           # Full stack (App + Observability)
â”œâ”€â”€ otel-collector-config.yaml   # OTLP Collector configuration
â”œâ”€â”€ prometheus.yml               # Prometheus scrape config
â””â”€â”€ README.md                    # Documentation
```

## ğŸš€ à¸§à¸´à¸˜à¸µà¹ƒà¸Šà¹‰à¸‡à¸²à¸™

### à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 1: à¸£à¸±à¸™ App à¹€à¸‰à¸à¸²à¸° (à¸•à¹‰à¸­à¸‡à¸¡à¸µ Observability Stack à¸—à¸µà¹ˆ example/)

```bash
npm install
npm start
```

**à¹€à¸¡à¸·à¹ˆà¸­à¹„à¸«à¸£à¹ˆà¹ƒà¸Šà¹‰:**
- Development/Debugging
- à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹‚à¸„à¹‰à¸”à¸šà¹ˆà¸­à¸¢à¹†
- à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹€à¸«à¹‡à¸™ console logs

### à¸§à¸´à¸˜à¸µà¸—à¸µà¹ˆ 2: à¸£à¸±à¸™ Full Stack (App + Observability)

```bash
docker-compose up --build
```

**à¹€à¸¡à¸·à¹ˆà¸­à¹„à¸«à¸£à¹ˆà¹ƒà¸Šà¹‰:**
- à¸—à¸”à¸ªà¸­à¸šà¹à¸šà¸š standalone
- Production-like environment
- à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Node.js

---

## ğŸ”§ Configuration Files

### otel-collector-config.yaml
- OTLP receivers (gRPC: 4317, HTTP: 4318)
- Exporters: Jaeger (traces), Prometheus (metrics), Loki (logs)
- Batch processor

### prometheus.yml
- Scrape OTLP Collector metrics endpoint (8889)

---

## ğŸŒ Access UIs

| Service | URL | Purpose |
|---------|-----|---------|
| App | http://localhost:3001 | Auto-instrumentation example |
| Jaeger | http://localhost:16686 | View traces |
| Prometheus | http://localhost:9090 | Query metrics |
| Grafana | http://localhost:3001 | Dashboards (admin/admin) |
| Loki | http://localhost:3100 | Logs backend |

---

## ğŸ“ Features

- âœ… **Auto-Instrumentation**: HTTP/Express traced automatically
- âœ… **Traces**: Sent to Jaeger via OTLP
- âœ… **Metrics**: Exposed to Prometheus
- âœ… **Logs**: Sent to Loki with TraceID correlation
- âœ… **Complete Observability**: All 3 signals in one example
